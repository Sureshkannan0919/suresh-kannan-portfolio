'use client';
import { SKILLS_DATA } from "@/lib/data";
import { SectionWrapper, SectionHeader } from "./section-wrapper";
import { Card } from "@/components/ui/card";
import * as Icons from "lucide-react";

const Icon = ({ name, ...props }: { name: string } & Icons.LucideProps) => {
    const LucideIcon = Icons[name as keyof typeof Icons] as Icons.LucideIcon;

    if (name === 'NextJs') {
      return (
        <svg
          {...props}
          role="img"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
          fill="currentColor"
          className="text-black dark:text-white"
        >
            <path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm-1.251 19.585v-7.17l-4.444 7.17h-1.621v-12.17h1.621v6.864l4.138-6.864h2.002l-4.138 6.945v5.225h-1.621z"/>
            <path d="M16.89 8.415h1.621v12.17h-1.621z"/>
        </svg>
      );
    }
    if (name === 'TailwindCss') {
      return (
        <svg
            {...props}
            role="img"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
            fill="currentColor"
        >
            <path d="M12.001 4.8c-3.2 0-5.2 1.6-6 4.8 1.2-1.6 2.6-2.2 4.2-1.8.913.228 1.565.89 2.288 1.624C13.666 10.618 15.027 12 18.001 12c3.2 0 5.2-1.6 6-4.8-1.2 1.6-2.6 2.2-4.2 1.8-.913-.228-1.565-.89-2.288-1.624C16.337 6.182 14.976 4.8 12.001 4.8zm-6 7.2c-3.2 0-5.2 1.6-6 4.8 1.2-1.6 2.6-2.2 4.2-1.8.913.228 1.565.89 2.288 1.624 1.177 1.194 2.538 2.576 5.512 2.576 3.2 0 5.2-1.6 6-4.8-1.2 1.6-2.6 2.2-4.2 1.8-.913-.228-1.565-.89-2.288-1.624C16.337 13.382 14.976 12 12.001 12c-1.533 0-2.862.506-4.015 1.189A6.525 6.525 0 0 0 6.001 12z"/>
        </svg>
      );
    }
    if (name === 'Python') {
        return (
            <svg {...props} role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M11.954.434c-2.43 0-4.736.931-6.467 2.662A9.132 9.132 0 0 0 2.663 9.563v4.874a9.132 9.132 0 0 0 2.824 6.467A9.132 9.132 0 0 0 9.563 23.73h4.874a9.132 9.132 0 0 0 6.467-2.824 9.132 9.132 0 0 0 2.824-6.467V9.563a9.132 9.132 0 0 0-2.824-6.467A9.132 9.132 0 0 0 14.437.434zM11.13 3.322H15c1.656 0 2.992 1.354 2.992 3.01s-1.336 3.01-2.992 3.01H11.13v-1.12H15a1.89 1.89 0 0 0 1.89-1.89 1.89 1.89 0 0 0-1.89-1.89H8.118v3.01h1.123V3.322zM12.87 20.678H9a1.89 1.89 0 0 1-1.89-1.89 1.89 1.89 0 0 1 1.89-1.89H15.88v-3.01h-1.12v3.01h-3.01c-1.656 0-2.992-1.354-2.992-3.01s1.336-3.01 2.992-3.01H12.87v1.12H9.86a1.89 1.89 0 0 0-1.89 1.89 1.89 1.89 0 0 0 1.89 1.89h3.01z" fill="#3776AB"/>
                <path d="M11.954.434c-2.43 0-4.736.931-6.467 2.662A9.132 9.132 0 0 0 2.663 9.563v4.874a9.132 9.132 0 0 0 2.824 6.467 9.132 9.132 0 0 0 6.467 2.824h4.874a9.132 9.132 0 0 0 6.467-2.824 9.132 9.132 0 0 0 2.824-6.467V9.563a9.132 9.132 0 0 0-2.824-6.467A9.132 9.132 0 0 0 14.437.434zM12.87 20.678H9c-1.656 0-2.992-1.354-2.992-3.01s1.336-3.01 2.992-3.01H12.87v-1.12H9.86a1.89 1.89 0 0 1-1.89-1.89c0-1.045.845-1.89 1.89-1.89H15.88v3.01h-1.12v-3.01h-3.01c-1.656 0-2.992-1.354-2.992-3.01s1.336-3.01 2.992-3.01H12.87v1.12H9.86a1.89 1.89 0 0 0-1.89 1.89c0 1.045.845 1.89 1.89 1.89h3.01v1.12H11.13c-1.656 0-2.992 1.354-2.992 3.01s1.336 3.01 2.992 3.01H12.87z" fill="#FFD43B"/>
            </svg>
        )
    }
    if (name === 'JavaScript') {
        return (
            <svg {...props} role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0h24v24H0V0zm22.034 18.262c-.443.546-1.012.943-1.646 1.157-.633.214-1.302.302-2.018.302-1.43 0-2.685-.4-3.72-1.22-1.02-.82-1.55-1.92-1.55-3.268 0-1.46.54-2.7 1.62-3.72s2.41-1.53 4.01-1.53c.77 0 1.48.13 2.14.39.66.26 1.22.65 1.67 1.18l-1.53 1.25c-.29-.33-.63-.58-1.04-.78s-.86-.29-1.33-.29c-.83 0-1.54.29-2.14.88-.6.59-.9 1.4-.9 2.45 0 1.05.32 1.88.94 2.47.62.59 1.35.89 2.19.89.47 0 .9-.1 1.28-.29s.7-.47.96-.83l1.52 1.23zm-9.32-8.583h2.11v2.81h-2.11v-2.81zm.02 4.142h2.09v6.55h-2.09v-6.55zM4.32 7.375h2.15v11.39H4.32V7.375z" fill="#F7DF1E"/>
            </svg>
        )
    }
    if (name === 'React') {
        return (
            <svg {...props} role="img" viewBox="-11.5 -10.23174 23 20.46348" xmlns="http://www.w3.org/2000/svg">
                <circle cx="0" cy="0" r="2.05" fill="#61DAFB"/>
                <g stroke="#61DAFB" strokeWidth="1" fill="none">
                    <ellipse rx="11" ry="4.2"/>
                    <ellipse rx="11" ry="4.2" transform="rotate(60)"/>
                    <ellipse rx="11" ry="4.2" transform="rotate(120)"/>
                </g>
            </svg>
        )
    }
    if (name === 'NodeJs') {
        return (
            <svg {...props} role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor">
                <path d="M11.75 1.25a.75.75 0 0 0 0 1.5h.5a.75.75 0 0 0 0-1.5h-.5zM9.5 2.75a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75zM8.75 4a.75.75 0 0 0 0 1.5h6.5a.75.75 0 0 0 0-1.5h-6.5zM12 21.75a9.75 9.75 0 1 1 0-19.5 9.75 9.75 0 0 1 0 19.5zm-4.14-11.51c.22-.3.5-.54.82-.7s.68-.24 1.07-.24c.7 0 1.28.16 1.73.47.45.31.68.75.68 1.32 0 .54-.2 1-.6 1.34s-1 .51-1.78.51h-.31v1.17h.31c.97 0 1.73.23 2.29.7.56.46.83 1.1.83 1.9s-.27 1.44-.81 1.9c-.54.47-1.28.7-2.22.7-.4 0-.79-.08-1.16-.25s-.67-.4-.9-.68l.89-1.05c.18.21.39.38.63.5s.5.18.78.18c.57 0 .99-.17 1.26-.5s.4-1 .4-1.78c0-.68-.16-1.2-.47-1.56s-.75-.54-1.32-.54h-2.1v3.13H5.75v-8.25h3.04l.35.99z"/>
            </svg>
        )
    }
    if (name === 'PostgreSql') {
        return (
            <svg {...props} role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor">
                <path d="M12,2A10,10,0,1,0,22,12,10,10,0,0,0,12,2ZM9.8,17.43V6.57h2.89a.59.59,0,0,0,.15,0h0a3.48,3.48,0,0,1,2.83,1.35,3.12,3.12,0,0,1,.69,2,3.45,3.45,0,0,1-1.53,3.16,3.7,3.7,0,0,1-2.18.74ZM15,9.8a2,2,0,0,0-2-2H11.53v4.06H13A2,2,0,0,0,15,9.8Z"/>
            </svg>
        )
    }
    if(name === 'MongoDb') {
        return (
             <svg {...props} role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor">
                <path d="M12.333.333C6.166.333.966 4.3.333 9.917c-.1.95.067 1.8.434 2.55C2.2 15.3 4.8 17.5 7.9 18.55c.8.267 1.733.167 2.5-.233a10.434 10.434 0 0 1-2.917-7.934c.2-3.316 2.084-6.066 4.884-7.483zm-.517 9.15c.116 3.2.983 6.016 2.516 8.35-2.217 1.233-5.034.933-7.05-1-1.633-1.55-2.616-3.6-2.833-5.833.517 4.183 3.1 7.6 6.8 8.866.983.334 2.016.334 3.016.034 1.7-.533 3.1-1.633 4.084-3.116-2.584-1.167-4.434-3.484-5.517-7.267z"/>
            </svg>
        )
    }
    if (name === 'Aws') {
        return (
             <svg {...props} role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor">
                <path d="M13.298 13.918c-.413 0-.685.298-.685.702v1.898c0 .403.272.701.685.701.413 0 .685-.298.685-.701v-1.898c0-.404-.272-.702-.685-.702zm6.317 7.028l-2.91-1.11c-.206-.06-.34-.225-.34-.45V13.78c0-.226.135-.39.34-.45l2.91-1.11c.27-.105.472.075.472.375v8.01c0 .3-.203.48-.472.374zm-14.152.015L2.55 19.387c-.27-.105-.472-.285-.472-.585V10.78c0-.3.202-.48.472-.585l2.91-1.11c.207-.06.34-.225.34-.45V3.028c0-.225.134-.39.34-.45L8.981 1.47c.27-.105.472.075.472.375v17.4c0 .3-.202.48-.472.375l-2.91-1.11c-.206-.06-.34-.225-.34-.45v-5.602H5.76v5.601c0 .225-.134.39-.34.45zm5.75-.465c.613 0 1.159-.15 1.636-.45.477-.3.87-.704 1.178-1.217.308-.513.462-1.097.462-1.751s-.154-1.238-.462-1.751c-.308-.513-.701-.917-1.178-1.217-.477-.3-1.023-.45-1.636-.45-.613 0-1.158.15-1.636.45-.477.3-.869.704-1.177 1.217-.308.513-.462 1.097-.462 1.751s.154 1.238.462 1.751c.308.513.7 1.05 1.177 1.35.478.3 1.023.45 1.636.45z"/>
            </svg>
        )
    }
    if (name === 'Docker') {
        return (
            <svg {...props} role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor">
                <path d="M23.15,10.446c-.325-1.059-1.25-1.88-2.393-2.213a5.92,5.92,0,0,0-2.613-3.313,6.01,6.01,0,0,0-5.129-1.234,6.033,6.033,0,0,0-3.321,2.545,18.4,18.4,0,0,0-1.821-.242C2.7,8.239.5,12.015.5,17.151a6.843,6.843,0,0,0,6.843,6.843H18.7a4.957,4.957,0,0,0,4.957-4.957c0-2.129-1.348-3.966-3.238-4.655a4.7,4.7,0,0,0,.731-2.584C21.151,11.2,22.3,10.02,23.15,10.446M8.3,14.7H5.454v2.843H8.3Zm4.261,0H9.716v2.843h2.843Zm4.262,0H13.977v2.843h2.843Z"/>
            </svg>
        )
    }
     if (name === 'Html') {
        return (
            <svg {...props} role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M1.5 0h21l-1.91 21.563L11.977 24l-8.564-2.438L1.5 0zm7.031 9.75l-.232-2.718 10.059.003.23-2.622-13.42-.002.61-7.007h21.8l-1.912 21.563L12 22.122l-6.52-1.83L5.4 17.5h3.16l.18.913 3.26 1.012.012-.003 3.24-1.01.33-3.563H8.53l-.22-2.52h6.86l.21-2.406H5.43l-.22-2.622h10.05l.23-2.623H7.03z" fill="#E34F26"/>
            </svg>
        )
    }

    if (!LucideIcon) {
        return <Icons.Code {...props} />;
    }
    return <LucideIcon {...props} />;
};


export function SkillsSection() {
  return (
    <SectionWrapper id="skills" className="bg-muted/50">
      <SectionHeader>Skills & Expertise</SectionHeader>
      <div className="grid grid-cols-2 gap-4 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5">
        {SKILLS_DATA.map((skill) => (
          <Card 
            key={skill.name} 
            className="group relative flex aspect-square transform flex-col justify-end overflow-hidden text-white transition-transform duration-300 hover:-translate-y-2 hover:shadow-xl"
            style={{ backgroundColor: skill.color }}
          >
             <div className="absolute inset-0 flex items-center justify-center p-4 transition-transform duration-300 group-hover:scale-110">
                <Icon name={skill.icon} className="h-1/2 w-1/2" />
             </div>
            <div className="bg-black bg-opacity-50 p-2 backdrop-blur-sm">
                <h3 className="text-center text-sm font-semibold">{skill.name}</h3>
            </div>
          </Card>
        ))}
      </div>
    </SectionWrapper>
  );
}
